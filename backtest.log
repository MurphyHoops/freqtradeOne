2025-11-20 06:38:39,536 - freqtrade - INFO - freqtrade 2025.9.1
2025-11-20 06:38:39,873 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-11-20 06:38:41,129 - freqtrade.configuration.load_config - INFO - Using config: user_data/configs/v29_backtest.json ...
2025-11-20 06:38:41,137 - freqtrade.loggers - INFO - Enabling colorized output.
2025-11-20 06:38:41,137 - freqtrade.loggers - INFO - Logfile configured
2025-11-20 06:38:41,137 - freqtrade.loggers - INFO - Verbosity set to 0
2025-11-20 06:38:41,138 - freqtrade.configuration.configuration - INFO - Using max_open_trades: 50 ...
2025-11-20 06:38:41,138 - freqtrade.configuration.configuration - INFO - Parameter --timerange detected: 20240101-20240201 ...
2025-11-20 06:38:41,306 - freqtrade.configuration.configuration - INFO - Using user-data directory: /freqtrade/user_data ...
2025-11-20 06:38:41,308 - freqtrade.configuration.configuration - INFO - Using data directory: /freqtrade/user_data/data/binanceusdm ...
2025-11-20 06:38:41,308 - freqtrade.configuration.configuration - INFO - Parameter --export detected: signals ...
2025-11-20 06:38:41,308 - freqtrade.configuration.configuration - INFO - Parameter --cache=none detected ...
2025-11-20 06:38:41,309 - freqtrade.configuration.configuration - INFO - Filter trades by timerange: 20240101-20240201
2025-11-20 06:38:41,310 - freqtrade.exchange.check_exchange - INFO - Checking exchange...
2025-11-20 06:38:41,321 - freqtrade.exchange.check_exchange - INFO - Exchange "binanceusdm" is officially supported by the Freqtrade development team.
2025-11-20 06:38:41,321 - freqtrade.configuration.configuration - INFO - Using pairlist from configuration.
2025-11-20 06:38:41,322 - freqtrade.configuration.config_validation - INFO - Validating configuration ...
2025-11-20 06:38:41,325 - freqtrade.commands.optimize_commands - INFO - Starting freqtrade in Backtesting mode
2025-11-20 06:38:41,326 - freqtrade.exchange.exchange - INFO - Instance is running with dry_run enabled
2025-11-20 06:38:41,326 - freqtrade.exchange.exchange - INFO - Using CCXT 4.5.7
2025-11-20 06:38:41,326 - freqtrade.exchange.exchange - INFO - Applying additional ccxt config: {'options': {'defaultType': 'swap'}}
2025-11-20 06:38:41,337 - freqtrade.exchange.exchange - INFO - Applying additional ccxt config: {'options': {'defaultType': 'swap'}}
2025-11-20 06:38:41,349 - freqtrade.exchange.exchange - INFO - Using Exchange "Binance USDâ“ˆ-M"
2025-11-20 06:38:42,005 - freqtrade.resolvers.exchange_resolver - INFO - Using resolved exchange 'Binance'...
/freqtrade/user_data/strategies/agents/signals/indicators.py:155: SyntaxWarning: invalid escape sequence '\l'
  that has not yet been surpassed by any $series[j]$ where $k < j \le i$."""
2025-11-20 06:38:42,411 - freqtrade.resolvers.iresolver - INFO - Using resolved strategy TaxBrainV29 from '/freqtrade/user_data/strategies/TaxBrainV29.py'...
2025-11-20 06:38:42,413 - freqtrade.strategy.hyper - INFO - Found no parameter file.
2025-11-20 06:38:42,418 - freqtrade.resolvers.strategy_resolver - INFO - Override strategy 'timeframe' with value from the configuration: 5m.
2025-11-20 06:38:42,418 - freqtrade.resolvers.strategy_resolver - INFO - Override strategy 'stake_currency' with value from the configuration: USDT.
2025-11-20 06:38:42,419 - freqtrade.resolvers.strategy_resolver - INFO - Override strategy 'stake_amount' with value from the configuration: unlimited.
2025-11-20 06:38:42,419 - freqtrade.resolvers.strategy_resolver - INFO - Override strategy 'startup_candle_count' with value from the configuration: 210.
2025-11-20 06:38:42,419 - freqtrade.resolvers.strategy_resolver - INFO - Override strategy 'max_open_trades' with value from the configuration: 50.
2025-11-20 06:38:42,420 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using minimal_roi: {'0': 5.0}
2025-11-20 06:38:42,420 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using timeframe: 5m
2025-11-20 06:38:42,420 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using stoploss: -2.0
2025-11-20 06:38:42,420 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using trailing_stop: False
2025-11-20 06:38:42,421 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using trailing_stop_positive_offset: 0.0
2025-11-20 06:38:42,421 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using trailing_only_offset_is_reached: False
2025-11-20 06:38:42,421 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using use_custom_stoploss: False
2025-11-20 06:38:42,422 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using process_only_new_candles: True
2025-11-20 06:38:42,422 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using order_types: {'entry': 'limit', 'exit': 'limit', 'stoploss': 'limit', 'stoploss_on_exchange': False, 
'stoploss_on_exchange_interval': 60}
2025-11-20 06:38:42,422 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using order_time_in_force: {'entry': 'GTC', 'exit': 'GTC'}
2025-11-20 06:38:42,422 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using stake_currency: USDT
2025-11-20 06:38:42,423 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using stake_amount: unlimited
2025-11-20 06:38:42,423 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using startup_candle_count: 210
2025-11-20 06:38:42,423 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using use_exit_signal: True
2025-11-20 06:38:42,424 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using exit_profit_only: False
2025-11-20 06:38:42,424 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using ignore_roi_if_entry_signal: False
2025-11-20 06:38:42,424 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using exit_profit_offset: 0.0
2025-11-20 06:38:42,424 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using disable_dataframe_checks: False
2025-11-20 06:38:42,425 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using ignore_buying_expired_candle_after: 0
2025-11-20 06:38:42,425 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using position_adjustment_enable: False
2025-11-20 06:38:42,425 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using max_entry_position_adjustment: -1
2025-11-20 06:38:42,426 - freqtrade.resolvers.strategy_resolver - INFO - Strategy using max_open_trades: 50
2025-11-20 06:38:42,427 - freqtrade.configuration.config_validation - INFO - Validating configuration ...
2025-11-20 06:38:42,445 - freqtrade.resolvers.iresolver - INFO - Using resolved pairlist StaticPairList from '/freqtrade/freqtrade/plugins/pairlist/StaticPairList.py'...
2025-11-20 06:38:42,446 - freqtrade.optimize.backtesting - INFO - Using fee 0.0400% from config.
2025-11-20 06:38:42,545 - freqtrade.optimize.backtesting - INFO - Loading data from 2023-12-31 06:30:00 up to 2024-02-01 00:00:00 (31 days).
2025-11-20 06:38:42,660 - freqtrade.optimize.backtesting - INFO - Dataload complete. Calculating indicators
2025-11-20 06:38:42,666 - freqtrade.optimize.backtesting - INFO - Running backtesting for Strategy TaxBrainV29
2025-11-20 06:38:42,666 - freqtrade.strategy.hyper - INFO - No params for buy found, using default values.
2025-11-20 06:38:42,667 - freqtrade.strategy.hyper - INFO - No params for sell found, using default values.
2025-11-20 06:38:42,668 - freqtrade.strategy.hyper - INFO - No params for protection found, using default values.
2025-11-20 06:38:42,670 - freqtrade.data.dataprovider - INFO - Loading data for BTC/USDT:USDT 30m from 2023-12-27 15:00:00 to 2024-02-01 00:00:00
2025-11-20 06:38:42,816 - freqtrade.optimize.backtesting - INFO - Backtesting with data from 2024-01-01 00:00:00 up to 2024-02-01 00:00:00 (31 days).
>>> base_needs: {'ADX', 'EMA_FAST', 'NEWHBARS', 'RSI', 'ATR', 'EMA_SLOW'}
2025-11-20 06:38:42,821 - freqtrade - ERROR - Fatal exception!
Traceback (most recent call last):
  File "/home/ftuser/.local/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'newbars_low_30m'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/freqtrade/freqtrade/main.py", line 47, in main
    return_code = args["func"](args)
  File "/freqtrade/freqtrade/commands/optimize_commands.py", line 61, in start_backtesting
    backtesting.start()
    ~~~~~~~~~~~~~~~~~^^
  File "/freqtrade/freqtrade/optimize/backtesting.py", line 1840, in start
    min_date, max_date = self.backtest_one_strategy(strat, data, timerange)
                         ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/freqtrade/freqtrade/optimize/backtesting.py", line 1768, in backtest_one_strategy
    results = self.backtest(
        processed=preprocessed,
        start_date=min_date,
        end_date=max_date,
    )
  File "/freqtrade/freqtrade/optimize/backtesting.py", line 1700, in backtest
    data: dict = self._get_ohlcv_as_lists(processed)
                 ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/freqtrade/freqtrade/optimize/backtesting.py", line 481, in _get_ohlcv_as_lists
    df_analyzed = self.strategy.ft_advise_signals(pair_data, {"pair": pair})
  File "/freqtrade/freqtrade/strategy/interface.py", line 1763, in ft_advise_signals
    dataframe = self.advise_entry(dataframe, metadata)
  File "/freqtrade/freqtrade/strategy/interface.py", line 1832, in advise_entry
    df = self.populate_entry_trend(dataframe, metadata)
  File "/freqtrade/user_data/strategies/TaxBrainV29.py", line 1135, in populate_entry_trend
    if df.loc[idx, 'newbars_low_30m']>80:
       ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ftuser/.local/lib/python3.13/site-packages/pandas/core/indexing.py", line 1183, in __getitem__
    return self.obj._get_value(*key, takeable=self._takeable)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ftuser/.local/lib/python3.13/site-packages/pandas/core/frame.py", line 4219, in _get_value
    series = self._get_item_cache(col)
  File "/home/ftuser/.local/lib/python3.13/site-packages/pandas/core/frame.py", line 4643, in _get_item_cache
    loc = self.columns.get_loc(item)
  File "/home/ftuser/.local/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'newbars_low_30m'

